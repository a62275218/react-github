{"version":3,"sources":["components/Home.jsx","utils/date.js","utils/http.js","config/index.js"],"names":["today","Date","theme","createMuiTheme","palette","primary","main","Home","props","_this","Object","_Users_linrong_PhpstormProjects_react_github_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","_Users_linrong_PhpstormProjects_react_github_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_Users_linrong_PhpstormProjects_react_github_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","call","handleSearch","_Users_linrong_PhpstormProjects_react_github_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_linrong_PhpstormProjects_react_github_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee","res","wrap","_context","prev","next","newsapi","everything","q","state","input","from","convertDate","fromD","to","toD","sortBy","language","sent","console","log","stop","handleDateChange","source","date","setState","_Users_linrong_PhpstormProjects_react_github_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","handleOptionChange","key","e","target","value","handleInputChange","getTime","selection","name","options","label","_this2","_this$state","react__WEBPACK_IMPORTED_MODULE_8___default","createElement","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_18__","className","_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_13___default","style","width","type","onChange","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_17___default","variant","color","onClick","autoComplete","map","item","index","_material_ui_core_FormControl__WEBPACK_IMPORTED_MODULE_11___default","_material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_12___default","_material_ui_core_Select__WEBPACK_IMPORTED_MODULE_14___default","option","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_15___default","material_ui_pickers__WEBPACK_IMPORTED_MODULE_19__","utils","DateFnsUtils","Component","__webpack_require__","d","__webpack_exports__","showTimeDiff","out","concat","getFullYear","getMonth","getDate","milli","leftHours","Math","floor","leftMinutes","NewsAPI","v2","axios","create","timeout"],"mappings":"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","file":"static/js/2.5722fe39.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport $http, {newsapi} from '../utils/http';\nimport {convertDate} from '../utils/date';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport TextField from '@material-ui/core/TextField';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport DateFnsUtils from '@date-io/date-fns';\nimport Button from '@material-ui/core/Button';\nimport {createMuiTheme, MuiThemeProvider} from '@material-ui/core/styles';\nimport {MuiPickersUtilsProvider, DatePicker} from 'material-ui-pickers';\n\n\nconst today = new Date();\n\nconst theme = createMuiTheme({\n    palette: {\n        primary:{main:'#4eb3e5'} ,\n    },\n});\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            input: '',\n            // one week\n            fromD: new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000),\n            toD: today,\n            sortBy:'publishedAt',\n            language:'en',\n            selection: [\n                {\n                    name: 'Sort By',\n                    key:'sortBy',\n                    options: [\n                        {\n                            label: 'Publish Time',\n                            value: 'publishedAt'\n                        },\n                        {\n                            label: 'Relevancy',\n                            value: 'relevancy'\n                        },\n                        {\n                            label: 'Popularity',\n                            value: 'popularity'\n                        }\n                    ]\n                },\n                {\n                    name: 'Language',\n                    key:'language',\n                    options: [\n                        {\n                            label: 'English',\n                            value: 'en'\n                        },\n                        {\n                            label: 'French',\n                            value: 'fr'\n                        },\n                        {\n                            label: 'Italian',\n                            value: 'it'\n                        },\n                        {\n                            label: 'Chinese',\n                            value: 'zh'\n                        }\n                    ]\n                }\n            ]\n        }\n    }\n\n    handleSearch = async() => {\n        let res = await newsapi.everything({\n            q:this.state.input,\n            from:convertDate(this.state.fromD),\n            to:convertDate(this.state.toD),\n            sortBy:this.state.sortBy,\n            language:this.state.language\n        });\n        console.log(res)\n    };\n\n    handleDateChange = source => date => {\n        this.setState({\n            [source]: date\n        });\n    };\n\n    handleOptionChange = key => e=>{\n        console.log(key);\n        this.setState({\n            [key]:e.target.value\n        });\n        console.log(e.target.value)\n    };\n\n    handleInputChange = (e)=>{\n        this.setState({\n            input:e.target.value\n        })\n    };\n\n    render() {\n        const {selection, fromD, toD} = this.state;\n        return (\n            <MuiThemeProvider theme={theme}>\n                <div className={'home-container'}>\n                    <div className={'box search-bar'}>\n                        <TextField\n                            style={{width: '80%'}}\n                            label=\"Search News...\"\n                            type=\"search\"\n                            onChange={this.handleInputChange}\n                        />\n                        <Button\n                            type=\"submit\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={this.handleSearch}\n                            style={{color:'#fff'}}\n                        >\n                            Search\n                        </Button>\n                    </div>\n                    <div className={'box home-search'}>\n                        <div>Advanced Search</div>\n                        <form autoComplete={'off'}>\n                            <div className={'option-container'}>\n                                {\n                                    selection.map((item, index) => {\n                                        return <FormControl key={index}>\n                                            <InputLabel>{item.name}</InputLabel>\n                                            <Select\n                                                className={'select-box'}\n                                                value={this.state[item.key]}\n                                                onChange={this.handleOptionChange(item.key)}\n                                            >\n                                                {item.options.map((option, index) => {\n                                                    return <MenuItem key={index}\n                                                                     value={option.value}\n                                                    >\n                                                        {option.label}\n                                                    </MenuItem>\n                                                })}\n                                            </Select>\n                                        </FormControl>\n                                    })\n                                }\n\n                            </div>\n                            <div className={'option-container'}>\n                                <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                                    <div className={'select-box'}>\n                                        <DatePicker\n                                            label=\"From\"\n                                            value={fromD}\n                                            onChange={this.handleDateChange('fromD')}\n                                        >\n                                        </DatePicker>\n                                    </div>\n                                    <div className={'select-box'}>\n                                        <DatePicker\n                                            label=\"To\"\n                                            value={toD}\n                                            onChange={this.handleDateChange('toD')}\n                                        >\n                                        </DatePicker>\n                                    </div>\n                                </MuiPickersUtilsProvider>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </MuiThemeProvider>\n        );\n    }\n}\n\nexport default Home;\n","export const convertDate = (date,today) => {\n    let out = today? new Date():new Date(date);\n    return `${out.getFullYear()}-${out.getMonth() + 1}-${out.getDate()}`\n};\n\nexport const showTimeDiff = (date)=>{\n    let gap = new Date().getTime() - new Date(date).getTime();\n    let milli = (gap%(24*3600*1000));\n    let leftHours = Math.floor(milli/(3600*1000));\n    let leftMinutes = Math.floor((milli%(3600*1000))/(60*1000));\n    return leftHours === 0 ?`${leftMinutes} min ago`:`${leftHours} hr ago`;\n};","import axios from 'axios';\nimport apiKey from '../config/index';\nimport NewsAPI from 'newsapi';\n\nexport const newsapi = new NewsAPI(apiKey.newsapi).v2;\n\nexport const baseURL = {\n    news:'https://newsapi.org/v2/top-headlines'\n};\n\nlet $http = axios.create({\n    timeout:300000,\n});\n\nexport default $http;","export default {\n    newsapi:'c81011b157164eb2b2c54679d9f91b9b'\n};"],"sourceRoot":""}